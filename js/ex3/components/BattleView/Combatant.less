@row-height: 150px;

@portrait-big-height: @row-height;
@portrait-big-width: @portrait-big-height;
@portrait-small-height: 40px;
@portrait-small-width: @portrait-small-height;

@control-column-width: 60px;

@border-radius: 15px;
@basic-margin: 15px;


.strip {
	display: -webkit-flex;
	display: flex;
	justify-content: space-between;
}

.Combatant {
	height: @row-height;
	border-radius: @border-radius;
	background-color: #eee;

	&.strip > * {
		margin-right: @basic-margin;
	}


	// I fly around and animate things. I'm crazy. ---------------------------------------------------------------------

	transform-origin: center center;
	transition:
		box-shadow 0.3s ease,
		transform 0.3s ease;
	

	&.zHi {
		transform: translate3d(0, 0, 0px);		
		box-shadow: 9px 7px 16px 0px rgba(0,0,0,0.24);
		z-index: 101;
	}
	&.zMed {
		transform: translate3d(0, 0, -2px);
		box-shadow: 5px 5px 10px 0px rgba(0,0,0,0.17);
		z-index: 100;		
	}
	&.zLow {
		transform: translate3d(0, 0, -5px);
		box-shadow: 2px 2px 3px 0px rgba(0,0,0,0.10);
		z-index: 99;
	}
	&.zFlat {
		transform: translate3d(0, 0, -5px);
		box-shadow: 1px 1px 1px 0px rgba(0,0,0,0.10);
		z-index: 99;
	}


	// Portrait --------------------------------------------------------------------------------------------------------

	.Portrait {
		border-top-left-radius: @border-radius;

		&.screenSmallOnly {
			float: left;
			width:  @portrait-small-width;
			height: @portrait-small-height;
			margin-right: @basic-margin / 2;
		}
		&.screenBigOnly {
			height: @portrait-big-height;
			width: @portrait-big-width;
			border-bottom-left-radius: @border-radius;
		}
		filter: grayscale(0);
		-webkit-filter: grayscale(0);
		transition: filter 1s ease-out;
		-webkit-transition: -webkit-filter 1s ease-out;
	}
	&.notInBattle .Portrait {
		filter: grayscale(1);
		-webkit-filter: grayscale(1);
	}


	// Name and notes --------------------------------------------------------------------------------------------------

	.bigFatBox {
		flex-grow: 1; // fill the available space. most everything else has fixed width.

		@media(max-width: 549px) {
			// spacing bullshit for small Portrait
			> * { margin-left: @basic-margin; }
			> .strip-name { margin-left: 0; }
		}

		.strip-name {
			height: 40px;
			justify-content: flex-start;
			align-items: center;
		}

		.killButton { margin-left: 1em;}

		.name {
			font-weight: bold;
			font-size: larger;
		}

		.notes {
			margin-top: 10px;
			width: 100%;
			border: 0;
			resize: none;
		}

		// TODO: Fix spacing between notes and strip-name
	}


	// All the numbers and stuff on the right --------------------------------------------------------------------------

	.centeredInputBlock {
		width: @control-column-width;
		margin-top: @basic-margin;
	}
	.Timing {
		transition: width 0.3s ease-out, margin 0.3s ease-out;
		-webkit-transition: width 0.3s ease-out, margin 0.3s ease-out;
	}
	&.notInBattle .Timing {
		width: 0px;
		margin: 0px;
	}
};
